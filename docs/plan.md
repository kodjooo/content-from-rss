Этап 1. Инициализация и подготовка — выполнено
- Провести аудит текущего репозитория, требований и архитектурных ограничений.
- Зафиксировать целевую архитектуру и ответственность модулей в `docs/architecture.md`.
- Сформировать перечень переменных окружения, актуализировать `.env.example` и подготовить скрипты генерации секретов.

Этап 2. Сбор и фильтрация RSS-данных — выполнено
- Реализовать модуль получения RSS-лент через feedparser с поддержкой заданного списка источников.
- Добавить фильтрацию по ключевым словам и дедупликацию записей (по URL, заголовку и степени схожести).
- Покрыть модуль unit-тестами на корректность фильтрации и дедупликации.

Этап 3. Оценка релевантности новостей — выполнено
- Настроить взаимодействие с OpenAI API для получения оценки релевантности (1–10) по промту.
- Реализовать политику кэширования/ограничения запросов и обработку ошибок API.
- Добавить тесты на формирование промта и корректную интерпретацию ответа модели.

Этап 4. Генерация финального поста — выполнено
- Проработать системные и пользовательские промты для генерации постов 1500–3000 символов с 3–4 хэштегами.
- Реализовать модуль генерации текста с валидацией объема, структуры и повторных попыток при сбоях.
- Подготовить тесты на форматирование итогового текста и корректность структуры.

Этап 5. Подбор и генерация изображений — выполнено
- Настроить пайплайн выбора изображения: RSS enclosure → поиск в Pexels API → генерация через OpenAI Images.
- Реализовать загрузку финального изображения на FreeImageHost и получение публичного URL.
- Покрыть модуль тестами с моками внешних сервисов.

Этап 6. Интеграция с Google Sheets — выполнено
- Настроить авторизацию через gspread и конфигурацию доступа к целевому документу.
- Реализовать запись данных в таблицу с формированием строки нужной структуры и статуса Written.
- Добавить интеграционные тесты с моками Google Sheets API.

Этап 7. Оркестровка и планировщик — выполнено
- Реализовать основной сценарий обработки: сбор новостей → оценка → генерация → изображение → запись в Sheets.
- Настроить расписание запусков (07:00 и 19:00 Europe/Moscow) с использованием pytz и фонового планировщика.
- Добавить логирование, уведомления об ошибках и механизм повторного запуска проваленных задач.

Этап 8. Docker и окружение — выполнено
- Собрать Dockerfile и обновить `docker-compose.yml` с учетом всех зависимостей (OpenAI, Pexels, Google).
- Обеспечить корректную работу планировщика и всех модулей внутри контейнера, добавить healthcheck.
- Обновить `.env.example` и инструкцию по запуску в README при необходимости.

Этап 9. Тестирование и контроль качества — выполнено
- Запустить полный набор тестов, реализовать smoke-тест реального сценария с моками внешних сервисов.
- Настроить базовую CI-конфигурацию (например, GitHub Actions) для автоматического прогона тестов и линтеров.
- Подготовить чек-лист ручной приемки результата по требованиям MVP.

Этап 10. Финализация документации — выполнено
- Актуализировать `docs/architecture.md` по итогам реализации всех модулей.
- Проверить и дополнить README, при необходимости указать ограничения и инструкции по обновлению ключей.
- Зафиксировать фактический статус этапов в `docs/plan.md` (помечать «выполнено» после завершения каждого этапа).
